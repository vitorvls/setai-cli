# Test Strategy

## Objective
Structure tests before or alongside code. Define testing strategy for a module or feature.

## Project Context

**Project:** {{PROJECT_NAME}}  
**Type:** {{PROJECT_TYPE}}  
**Stack:** {{LANGUAGE}} + {{FRAMEWORK}}{{#if DATABASE}} + {{DATABASE}}{{/if}}

{{#if USE_TDD}}
**TDD:** This project uses Test-Driven Development (TDD). Tests must be written BEFORE code.
{{/if}}

## Input
- Module/feature to be tested
- Existing code (if applicable)
- Functional requirements
- Business rules

## Instructions
You are responsible for project testing strategy.

For this module:

1. **List critical scenarios**
   - Main flows
   - Essential use cases
   - Critical integrations

2. **Define necessary unit tests**
   - Functions to test
   - Test cases per function
   - Expected coverage

3. **Define integration tests**
   - Integrations to test
   - End-to-end flows
   - Necessary mocks

4. **Point out edge cases and expected failures**
   - Edge cases
   - Error handling
   - Input validations

## Constraints
- Don't write code yet
- Focus on strategy and planning
- Consider minimum coverage (see `.cursor/rules/testing-rules.md`)
- Be specific about what to test

## Output
Structured strategy with:
- Critical scenarios
- Planned unit tests
- Planned integration tests
- Identified edge cases

## Project-Specific Notes

{{#if FRAMEWORK_EXPRESS}}
- This is an Express API project
- Use Supertest for API endpoint testing
- Test database interactions with test database
- Mock external services
{{/if}}

{{#if USE_TDD}}
- **TDD is mandatory:** Write tests first, then implement
- Follow Red-Green-Refactor cycle
- All new code must have tests
{{/if}}

## Related Documentation
- **Testing Rules:** `.cursor/rules/testing-rules.md`
- **Code Style:** `.cursor/rules/code-style.md`
- **Architecture:** `.cursor/context/architecture.md`